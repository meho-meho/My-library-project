<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/style.css">
    <title>My Library</title>
</head>
<body>
    <header>
        <h1>My Library</h1>
        <div>
            <a id="submit" type="button" class="add-btn">Submit</a>
            <a href="/" type="button" class="add-btn">Cancel</a>
        </div>
     </header>

    <% if (locals.book) { %>
     <form id="form" action="/edit/<%= book.id %>" method="post">
        <label for="title" class="form-label">Title</label><input name="title" type="text" value="<%= book.title %>" class="form-control">
        <label for="url" class="form-label">URL</label><input name="url" type="text" value="<%= book.url %>" class="form-control">
        <label for="review" class="form-label">Review</label><input name="review" type="number" value=<%= book.review %> hidden="true" id="review">
        <div>
            <span id="star1" class="star" onclick="rating(1)">★</span>
            <span id="star2" class="star" onclick="rating(2)">★</span>
            <span id="star3" class="star" onclick="rating(3)">★</span>
            <span id="star4" class="star" onclick="rating(4)">★</span>
            <span id="star5" class="star" onclick="rating(5)">★</span>
        </div>
        <label for="comment" class="form-label">Comment</label><input name="comment" type="text" value="<%= book.comment %>" class="form-control">
        <button type="submit" class="btn btn-success">Submit</button>
     </form>
    <% } else { %>
     <form id="form" action="/add" method="post">
        <label for="title" class="form-label">Title</label><input name="title" type="text" class="form-control">
        <label for="url" class="form-label">URL</label><input name="url" type="text" class="form-control">
        <label for="review" class="form-label">Review</label><input name="review" type="number" hidden="true" id="review">
        <div>
            <span id="star1" class="star" onclick="rating(1)">★</span>
            <span id="star2" class="star" onclick="rating(2)">★</span>
            <span id="star3" class="star" onclick="rating(3)">★</span>
            <span id="star4" class="star" onclick="rating(4)">★</span>
            <span id="star5" class="star" onclick="rating(5)">★</span>
        </div>
        <label for="comment" class="form-label">Comment</label><input name="comment" type="text" class="form-control">
        <button type="submit" class="btn btn-success">Submit</button>
     </form>
    <% } %>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script src="/scripts/script.js"></script>
</body>
</html>